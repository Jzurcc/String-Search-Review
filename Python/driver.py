from Naive import naive
from KMP import KMP
from BM_BadChar import BM
from RK import RK
from BNDM_Fixed import BNDM
from statistics import fmean
from random import uniform

pattern = "1001111011"
text = "011110001111100110100000110111110010100111001001011111010000101111111111000110101001011011010100101110011011100111111100101010101010101101010011011101101101000001110111010001010111110011110111101111000101101000100110001010001000100101001001100011010110010010000110011110111110011001010000111101000110011011001010101100001101010100111101101101101010010111010100111010100001110100100100001011100100010011110110101110011111001101111000110100011000100101101001101101101111001111011100011011001011111010001000001001000110100001111101100100100101101000001111000011111010011100101010100000000111110010001000010011001101010011001001110100011010101101100001100001011001101011011111001011011000110011100000001111001101010101101000000100110111001111000000010101100010111010011111100100000011110000101101011010000001001111101101110001101101000111010100101111000110101010110101010000101011111100000111011010101000111100000000111011011111010111101001000110010100010111100110110011011001110110111110000111011000100001100010111110010011011100000100000111110011111000"

def format(name, func):
    matches = []
    shifts = []
    runningTime = []
    throughput = []
    for i in range(100):
        f = func(pattern, text)
        for j in f[0]:
            if j not in matches:
                matches.append(j)
        
        if f[1] not in shifts:
            shifts.append(f[1])
        runningTime.append(f[2])
        throughput.append(f[3])
    
    print(f'{name} {'-'*(50-len(name))}')
    
    print('Matches at index/es: ', end='')
    print(*matches, sep=', ')
    print(f'No. of shifts: {'' if len(shifts) == 1 else '[has varying shifts!] '}', end='')
    print(*shifts, sep=', ')
    print(f'running time: {fmean(runningTime):10f}')
    print(f'throughput: {fmean(throughput)}')


format('Naive', naive)
format('KMP', KMP)
format('BM', BM)
format('RK', RK)
format('BNDM', BNDM)

