from Naive import naive
from KMP import KMP
from BM_BadChar import BM
from RK import RK
from BNDM_Fixed import BNDM
from statistics import fmean
from random import uniform

pattern = "1001111011"
text = "0111100011111001101000001101111100101001110010010111110100001011111111110001101010010110110101001011100110111001111111001010101010101011010100110111011011010000011101110100010101111110111100010110100010011000101000100010010100100110001101011001001000011110011001010000111101000110011011001010101100001101010011011010100101110101001110101000011101001001000010111001000010111001111100110111100011010001100010010110100110110110111100011011001011111010001000001001000110100001111101100100100101101000001111000011111010011100101010100000000111110010001000010011001101010011001001110100011010101101100001100001011001101011011111001011011000110011100000001111001101010101101000000100110111001111000000010101100010111010011111100100000011110000101101011010000001001111101101110001101101000111010100101111000110101010110101010000101011111100000111011010101000111100000000111011011111010111101001000110010100010111100110110011011001110110111110000111011000100001100010111110010011011100000100000111110011111000"

def format(name, func):
    matches = []
    shifts = []
    runningTime = []
    throughput = []
    for i in range(100):
        f = func(pattern, text)
        for j in f[0]:
            if j not in matches:
                matches.append(j)
        
        if f[1] not in shifts:
            shifts.append(f[1])
        runningTime.append(f[2])
        throughput.append(f[3])
    
    print(f'{name} {'-'*(50-len(name))}')
    
    print('Matches at index/es: ', end='')
    print(*matches, sep=', ')
    print(f'No. of shifts: {'' if len(shifts) == 1 else '[has varying shifts!] '}', end='')
    print(*shifts, sep=', ')
    print(f'running time: {fmean(runningTime):10f}')
    print(f'throughput: {fmean(throughput)}')


format('Naive', naive)
format('KMP', KMP)
# format('BM', BM)
# format('RK', RK)
# format('BNDM', BNDM)

